nohup: ignoring input

> phsyioez@1.0.0 start
> node src/server.js

Server running on port 3000
Test Health: http://localhost:3000/health
Test Login: http://localhost:3000/api/auth/login
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 10.835 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.266 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.824 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.671 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.634 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.752 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.398 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.837 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.895 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.389 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.719 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.632 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.605 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.603 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.052 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.662 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.691 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.386 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.376 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.837 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.433 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.397 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.609 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.414 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.544 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.419 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.331 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.423 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.680 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.430 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.363 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.347 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.574 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.638 ms - -[0m
[0mGET /api/admin/services [36m304[0m 8.995 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 15.084 ms - -[0m
[0mPOST /api/reception/registration [32m200[0m 11.721 ms - 555[0m
[0mPOST /api/reception/registration [32m200[0m 9.912 ms - 10570[0m
[0mPOST /api/reception/registration [32m200[0m 12.409 ms - 10570[0m
[0mGET /api/admin/services [36m304[0m 2.777 ms - -[0m
[0mPOST /api/reception/registration [32m200[0m 14.163 ms - 555[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.824 ms - -[0m
[0mPOST /api/reception/registration?action=details&id=31 [32m200[0m 2.663 ms - 1183[0m
[0mGET /api/reception/get_treatment_slots?date=2026-01-30&service_type=physio [32m200[0m 2.813 ms - 28[0m
[0mGET /api/reception/form_options?branch_id=1 [32m200[0m 23.160 ms - 3895[0m
[0mGET /api/reception/get_payment_methods [32m200[0m 1.590 ms - 400[0m
[0mGET /api/reception/get_treatment_slots?date=2026-01-30&service_type=physio [36m304[0m 1.602 ms - -[0m
[0mGET /api/reception/get_treatment_slots?date=2026-01-30&service_type=physio [36m304[0m 1.041 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1 [36m304[0m 8.486 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1 [36m304[0m 6.778 ms - -[0m
[0mGET /api/reception/get_payment_methods [36m304[0m 1.553 ms - -[0m
[0mGET /api/reception/get_payment_methods [36m304[0m 1.046 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.030 ms - -[0m
[0mGET /api/reception/get_treatment_slots?date=2026-01-30&service_type=physio [36m304[0m 1.192 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1 [36m304[0m 5.657 ms - -[0m
[0mGET /api/reception/get_payment_methods [36m304[0m 1.276 ms - -[0m
[0mPOST /api/reception/registration?action=details&id=35 [32m200[0m 2.022 ms - 1207[0m
[0mPOST /api/reception/registration?action=details&id=29 [32m200[0m 1.887 ms - 1249[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.650 ms - -[0m
[0mGET /api/admin/services [36m304[0m 1.433 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.487 ms - -[0m
[0mPOST /api/reception/registration [32m200[0m 3.390 ms - 10570[0m
[0mGET /api/admin/services [36m304[0m 1.800 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.940 ms - -[0m
[0mPOST /api/reception/registration [32m200[0m 3.278 ms - 555[0m
[0mPOST /api/reception/registration [32m200[0m 2.690 ms - 10570[0m
[0mPOST /api/reception/registration [32m200[0m 4.273 ms - 555[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.242 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.748 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 4.472 ms - 78[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.227 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.183 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.221 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 3.686 ms - 78[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 3.499 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 4.929 ms - 78[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 12.531 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.348 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.902 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.345 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 21.542 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 9.300 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 5.145 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.206 ms - -[0m
[0mGET /api/reception/schedule?week_start=2026-01-25&branch_id=1&employee_id=2 [36m304[0m 1.325 ms - -[0m
[0mGET /api/reception/schedule?week_start=2026-01-25&branch_id=1&employee_id=2 [36m304[0m 0.845 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.293 ms - -[0m
[0mPOST /api/reception/inquiry [32m200[0m 1.883 ms - 1271[0m
[0mPOST /api/reception/inquiry [32m200[0m 2.073 ms - 1271[0m
[0mPOST /api/reception/inquiry [32m200[0m 3.342 ms - 1135[0m
[0mPOST /api/reception/inquiry [32m200[0m 3.887 ms - 1135[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.479 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.302 ms - -[0m
[0mGET /api/admin/services [36m304[0m 2.221 ms - -[0m
[0mPOST /api/reception/registration [32m200[0m 2.783 ms - 10570[0m
[0mPOST /api/reception/registration [32m200[0m 2.470 ms - 10570[0m
[0mPOST /api/reception/registration [32m200[0m 3.945 ms - 555[0m
[0mPOST /api/reception/registration [32m200[0m 3.984 ms - 555[0m
[0mGET /api/admin/services [36m304[0m 1.203 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.056 ms - -[0m
[0mPOST /api/reception/registration [32m200[0m 1.900 ms - 1783[0m
[0mPOST /api/reception/registration [32m200[0m 1.818 ms - 1783[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.675 ms - -[0m
[0mGET /api/admin/services [36m304[0m 3.784 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 4.736 ms - -[0m
[0mPOST /api/reception/registration [32m200[0m 5.306 ms - 10570[0m
[0mPOST /api/reception/registration [32m200[0m 5.330 ms - 555[0m
[0mPOST /api/reception/registration [32m200[0m 5.453 ms - 10570[0m
[0mPOST /api/reception/registration [32m200[0m 6.515 ms - 555[0m
[0mGET /api/admin/services [36m304[0m 1.693 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.952 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.606 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 3.269 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 4.334 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 3.873 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 5.714 ms - 78[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 3.304 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.872 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 5.295 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 6.094 ms - 78[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.685 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 17.755 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 4.713 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.615 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 23.516 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 8.674 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 12.205 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.400 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.510 ms - 78[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.604 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.756 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.856 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.287 ms - 78[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.700 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.883 ms - 78[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 0.934 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 5.856 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 10.089 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.014 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.802 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 6.610 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 9.418 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.057 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.473 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.312 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.530 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.457 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.464 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.491 ms - -[0m
[0mGET /api/admin/services [36m304[0m 1.181 ms - -[0m
[0mGET /api/reception/get_payment_methods [36m304[0m 0.901 ms - -[0m
[0mGET /api/admin/services [36m304[0m 1.164 ms - -[0m
[0mGET /api/reception/get_payment_methods [36m304[0m 1.275 ms - -[0m
[0mGET /api/reception/schedule?week_start=2026-01-25&branch_id=1&employee_id=2 [36m304[0m 1.388 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.865 ms - -[0m
[0mGET /api/reception/schedule?week_start=2026-01-25&branch_id=1&employee_id=2 [36m304[0m 1.345 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.427 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.514 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.685 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.988 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 4.106 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 4.378 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 5.857 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 4.714 ms - 78[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 3.160 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.816 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.079 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 12.549 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.570 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.682 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 18.767 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 7.983 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 10.757 ms - -[0m
[0mGET /api/admin/services [36m304[0m 1.502 ms - -[0m
[0mGET /api/reception/get_payment_methods [36m304[0m 1.452 ms - -[0m
[0mGET /api/admin/services [36m304[0m 1.287 ms - -[0m
[0mGET /api/reception/get_payment_methods [36m304[0m 1.427 ms - -[0m
[0mGET /api/admin/services [36m304[0m 0.937 ms - -[0m
[0mGET /api/reception/get_payment_methods [36m304[0m 0.989 ms - -[0m
[0mGET /api/reception/get_payment_methods [36m304[0m 0.986 ms - -[0m
[0mGET /api/admin/services [36m304[0m 1.771 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.336 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.651 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.126 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 3.515 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 4.950 ms - 78[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 3.429 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.342 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 9.384 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 13.210 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.874 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.976 ms - 78[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.613 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.594 ms - 78[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 0.702 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 5.858 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.782 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 10.489 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.822 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 3.469 ms - 78[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 4.258 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 4.413 ms - 78[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.141 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.178 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 9.614 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 13.369 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.880 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.357 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.895 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.306 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.274 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.993 ms - 78[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 7.552 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 9.948 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.409 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.099 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.368 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.668 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 17.927 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 3.014 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 0.989 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 20.737 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.245 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.611 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.361 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.170 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.845 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.322 ms - 78[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 6.437 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 10.092 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.222 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.132 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 4.072 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 5.387 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.362 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.758 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.548 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.848 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.428 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.431 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.410 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.449 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.420 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.403 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.464 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.473 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.802 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.734 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.078 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.433 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.274 ms - 78[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 7.183 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 10.307 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.157 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.187 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 5.663 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 8.449 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.297 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.572 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.333 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.749 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.527 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.427 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.424 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.341 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.125 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.584 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.358 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.777 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.448 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.424 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.505 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.556 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.576 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.412 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.404 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 3.153 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.162 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 3.205 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 3.896 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.925 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.544 ms - 78[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 9.001 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.407 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.940 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.163 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 18.148 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 4.202 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 3.372 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 10.164 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.455 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 10.946 ms - -[0m
[0mGET /api/reception/schedule?week_start=2026-01-25&branch_id=1&employee_id=2 [36m304[0m 1.020 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.487 ms - -[0m
[0mGET /api/reception/schedule?week_start=2026-01-25&branch_id=1&employee_id=2 [36m304[0m 1.698 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.726 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.586 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.133 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.448 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.781 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.771 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.781 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.210 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.248 ms - 78[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 8.208 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 12.719 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.546 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.442 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.091 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 9.550 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.354 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 11.866 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.338 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.453 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.100 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.460 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.832 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.851 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.075 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.864 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.194 ms - 78[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 6.727 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 9.946 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.298 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.545 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 5.497 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 9.912 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.303 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.796 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.705 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.210 ms - -[0m
[0mGET /api/reception/get_pending_approvals?branch_id=1 [33m401[0m 0.102 ms - 62[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.439 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.568 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.751 ms - -[0m
[0mGET /api/reception/get_pending_approvals?branch_id=1 [33m401[0m 0.135 ms - 62[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.428 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.828 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.554 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 3.857 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 5.069 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.841 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.873 ms - 78[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.442 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 3.578 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 13.658 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 16.566 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.938 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.447 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 6.103 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 11.083 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.275 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.645 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.520 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.583 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.177 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.598 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.345 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.293 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.156 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.942 ms - 78[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 6.271 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 7.242 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.194 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.311 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 4.068 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 5.364 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.231 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.577 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.078 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.303 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.587 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.478 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.648 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.703 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.396 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.918 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.882 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.473 ms - -[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.961 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 1.665 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.059 ms - 78[0m
Get Pending Approvals Error: Error: Unknown column 'discount_percentage' in 'SELECT'
    at PromisePool.query (/srv/http/admin/desktop/server/node_modules/mysql2/lib/promise/pool.js:36:22)
    at exports.getPendingApprovals (/srv/http/admin/desktop/server/src/api/reception/fetchData.js:230:43)
    at process.processTicksAndRejections (node:internal/process/task_queues:104:5) {
  code: 'ER_BAD_FIELD_ERROR',
  errno: 1054,
  sql: '\n' +
    '            SELECT \n' +
    "                'test' as type,\n" +
    '                test_id as id,\n' +
    '                test_uid as uid,\n' +
    '                patient_name,\n' +
    '                phone_number,\n' +
    '                created_at,\n' +
    '                total_amount as amount,\n' +
    '                advance_amount,\n' +
    '                discount_percentage as discount,\n' +
    '                test_name,\n' +
    '                approval_status,\n' +
    '                created_by_employee_id\n' +
    '            FROM tests \n' +
    '            WHERE branch_id = 1 \n' +
    "            AND (approval_status = 'pending' OR (approval_status = 'approved' AND created_at >= CURDATE()))\n" +
    '            ORDER BY created_at DESC\n' +
    '        ',
  sqlState: '42S22',
  sqlMessage: "Unknown column 'discount_percentage' in 'SELECT'"
}
[0mGET /api/reception/get_pending_approvals?branch_id=1 [31m500[0m 2.115 ms - 78[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 8.285 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 10.773 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.688 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.935 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 2.002 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 2.110 ms - -[0m
[0mGET /api/reception/form_options?branch_id=1&appointment_date=2026-01-30&service_type=physio [36m304[0m 7.136 ms - -[0m
[0mGET /api/reception/dashboard?branch_id=1 [36m304[0m 8.437 ms - -[0m
[0mGET /api/reception/get_slots?date=2026-01-30 [36m304[0m 1.273 ms - -[0m
[0mGET /api/reception/notifications?employee_id=2 [36m304[0m 1.699 ms - -[0m
